@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewBag.Title = "Customer Post";
    Layout = "~/Views/Shared/Customer_Layout.cshtml";
}

@using ZAlpha.Application.Common.Models;
@using ZAlpha.Application.Tag.Queries;
@using ZAlpha.Application.Post.Queries.GetAllPost;
@using ZAlpha.Application.Utils.FormatDate;
@model ZAlpha.Application.Common.Models.PaginatedList<PostModel>
@using Microsoft.AspNetCore.Mvc;


<div class="grid grid-3-6-3 mobile-prefer-content">
    <div class="grid-column">

    </div>
    <div class="grid-column">
        @foreach (var item in Model.Items)
        {
            <!-- WIDGET BOX -->
            <div class="widget-box no-padding">
                <!-- WIDGET BOX SETTINGS -->
                <div class="widget-box-settings">
                    <!-- POST SETTINGS WRAP -->
                    <div class="post-settings-wrap">
                        <!-- POST SETTINGS -->
                        <div class="post-settings widget-box-post-settings-dropdown-trigger">
                            <!-- POST SETTINGS ICON -->
                            <svg class="post-settings-icon icon-more-dots">
                                <use xlink:href="#svg-more-dots"></use>
                            </svg>
                            <!-- /POST SETTINGS ICON -->
                        </div>
                        <!-- /POST SETTINGS -->
                        @if (item.InteractWithPosts.FirstOrDefault(r => r.InteractPostStatus
                       == ZAlpha.Domain.Enums.InteractPostStatus.Create).UserAccount.UserName
                       == User.Identity.Name)
                        {
                            <!-- SIMPLE DROPDOWN -->
                            <div class="simple-dropdown widget-box-post-settings-dropdown">
                                <p class="simple-dropdown-link">Edit Post</p>
                                <p class="simple-dropdown-link">Delete Post</p>
                            </div>
                            <!-- /SIMPLE DROPDOWN -->
                        }
                        else
                        {
                            <!-- SIMPLE DROPDOWN -->
                            <div class="simple-dropdown widget-box-post-settings-dropdown">
                                <p class="simple-dropdown-link">Report Post</p>
                                <p class="simple-dropdown-link">Report Author</p>
                            </div>
                            <!-- /SIMPLE DROPDOWN -->
                        }
                    </div>
                    <!-- /POST SETTINGS WRAP -->
                </div>
                <!-- /WIDGET BOX SETTINGS -->
                <!-- WIDGET BOX STATUS -->
                <div class="widget-box-status">
                    <!-- WIDGET BOX STATUS CONTENT -->
                    <div class="widget-box-status-content">
                        <!-- USER STATUS -->
                        <div class="user-status">
                            <!-- USER STATUS AVATAR -->
                            <a class="user-status-avatar">
                                <!-- USER AVATAR -->
                                <div class="user-avatar small no-outline">
                                    <!-- USER AVATAR CONTENT -->
                                    <div class="user-avatar-content">


                                        @{
                                            var imgUserPostUrl = item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create).UserAccount.AvatarUrl;
                                        }
                                        @if (imgUserPostUrl != null && item.AnonymousStatus == ZAlpha.Domain.Enums.AnonymousStatus.UnActive)
                                        {
                                            <!-- HEXAGON -->
                                            <div class="hexagon-image-30-32"
                                                 data-src="@imgUserPostUrl"></div>
                                            <!-- /HEXAGON -->
                                        }
                                        else
                                        {
                                            <!-- HEXAGON -->
                                            <div class="hexagon-image-30-32"
                                                 data-src="https://cdn1.iconfinder.com/data/icons/user-pictures/100/unknown-512.png"></div>
                                            <!-- /HEXAGON -->
                                        }
                                    </div>
                                    <!-- /USER AVATAR CONTENT -->
                                    <!-- USER AVATAR PROGRESS -->
                                    <div class="user-avatar-progress">
                                        <!-- HEXAGON -->
                                        <div class="hexagon-progress-40-44"></div>
                                        <!-- /HEXAGON -->
                                    </div>
                                    <!-- /USER AVATAR PROGRESS -->
                                    <!-- USER AVATAR PROGRESS BORDER -->
                                    <div class="user-avatar-progress-border">
                                        <!-- HEXAGON -->
                                        <div class="hexagon-border-40-44"></div>
                                        <!-- /HEXAGON -->
                                    </div>
                                    <!-- /USER AVATAR PROGRESS BORDER -->


                                </div>
                                <!-- /USER AVATAR -->
                            </a>
                            <!-- /USER STATUS AVATAR -->
                            <!-- USER STATUS TITLE -->
                            <p class="user-status-title medium">
                                @{
                                    var linkUser = "Route/InfomationDetail?userId=" + item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create)?.UserAccount.Id;
                                    if (item.AnonymousStatus == ZAlpha.Domain.Enums.AnonymousStatus.Active)
                                    {
                                        linkUser = "#";
                                    }
                                    var emotionalString = item.EmotionalStatus.ToString();
                                }
                                @if (item.AnonymousStatus == ZAlpha.Domain.Enums.AnonymousStatus.Active)
                                {
                                    <a class="bold">
                                        Ẩn danh
                                        @if (emotionalString != null && !emotionalString.Equals("None"))
                                        {
                                            <p class="user-status-text small">cảm thấy @emotionalString</p>
                                        }
                                    </a>
                                }
                                else
                                {
                                    <a class="bold" href="@linkUser">
                                        @item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create)?.UserAccount.FirstName
                                        @item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create)?.UserAccount.LastName
                                        @if (emotionalString != null && !emotionalString.Equals("None"))
                                        {
                                            <p class="user-status-text small">cảm thấy @emotionalString</p>
                                        }
                                    </a>
                                }
                            </p>
                            <!-- /USER STATUS TITLE -->
                            <!-- USER STATUS TEXT -->
                            <p class="user-status-text small">@FormatDate.CalTimeBetweenTwoDate(item.Created)</p>
                            <!-- /USER STATUS TEXT -->
                        </div>
                        <!-- /USER STATUS -->
                        <!-- WIDGET BOX STATUS TEXT -->
                        <p class="widget-box-status-text">@item.PostBody</p>
                        <!-- /WIDGET BOX STATUS TEXT -->
                    </div>
                    <!-- /WIDGET BOX STATUS CONTENT -->
                    @if (item.PostImagesUrl?.Length > 0)
                    {
                        <!-- IFRAME WRAP -->
                        <div class="iframe-wrap" style="padding-top:0px;display:flex;align-content: center;justify-content: center;">
                            <img style="max-height:50vh; max-width:100%;" src="/@item.PostImagesUrl" />
                            @* <iframe src="https://giphy.com/embed/1LnQIODGufGec" allowFullScreen></iframe> *@
                        </div>
                        <!-- /IFRAME WRAP -->
                    }
                    <!-- WIDGET BOX STATUS CONTENT -->
                    <div class="widget-box-status-content">


                        <!--TAG LIST-->
                        <div class="tag-list">
                            <!-- TAG ITEM -->
                            @foreach (var tag in @item.PostTags)
                            {
                                <!-- TAG ITEM -->
                                <a class="tag-item secondary" href="newsfeed.html">@tag.Tag.TagName</a>
                                <!-- /TAG ITEM -->
                            }
                        </div>
                        <!--/TAG LIST-->
                        <!-- CONTENT ACTIONS -->
                        <div class="content-actions">
                            @{
                                var allReactionToName = item.InteractWithPosts?
                                .Where(i => i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create)
                                .OrderBy(i => i.Created)
                                .ToList();
                                var top3reactionPost = item.InteractWithPosts?
                                .Where(i => i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create)
                                .OrderByDescending(i => i.InteractPostStatus)
                                .DistinctBy(i => i.InteractPostStatus)
                                .Take(3)
                                .ToList();
                                var top3reactionPostRevert = new List<ZAlpha.Domain.Entities.InteractWithPosts>();
                                foreach (var post in top3reactionPost)
                                {
                                    top3reactionPostRevert.Add(post);
                                }
                            }
                            <!-- CONTENT ACTION -->
                            <div class="content-action">
                                <!-- META LINE -->
                                <div class="meta-line">
                                    <!-- META LINE LIST -->
                                    <div class="meta-line-list reaction-item-list">
                                        @foreach (var post in top3reactionPostRevert)
                                        {
                                            <!-- REACTION ITEM -->
                                            <div class="reaction-item">
                                                <!-- REACTION IMAGE -->
                                                @{
                                                    if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Like)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                                    }
                                                    else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Love)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                                    }
                                                    else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Dislike)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                                    }
                                                    else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Happy)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                                    }
                                                    else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Funny)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                                    }
                                                    else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Wow)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                                    }
                                                    else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Angry)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                                    }
                                                    else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Sad)
                                                    {
                                                        <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                                    }
                                                }
                                                <!-- /REACTION IMAGE -->
                                                <!-- SIMPLE DROPDOWN -->
                                                <div class="simple-dropdown padded reaction-item-dropdown">
                                                    <!-- SIMPLE DROPDOWN TEXT -->
                                                    @{
                                                        if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Like)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                                                <span class="bold">Like</span>
                                                            </p>
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Love)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                                                <span class="bold">Love</span>
                                                            </p>
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Dislike)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                                                <span class="bold">Dislike</span>
                                                            </p>
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Happy)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                                                <span class="bold">Happy</span>
                                                            </p>
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Funny)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                                                <span class="bold">Funny</span>
                                                            </p>
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Wow)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                                                <span class="bold">Wow</span>
                                                            </p>
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Angry)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                                                <span class="bold">Angry</span>
                                                            </p>
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Sad)
                                                        {
                                                            <p class="simple-dropdown-text">
                                                                <img class="reaction" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                                                <span class="bold">Sad</span>
                                                            </p>
                                                        }
                                                    }
                                                    <!-- /SIMPLE DROPDOWN TEXT -->
                                                    @foreach (var interactName in allReactionToName)
                                                    {
                                                        if (post.InteractPostStatus == interactName.InteractPostStatus)
                                                        {
                                                            <!-- SIMPLE DROPDOWN TEXT -->
                                                            <p class="simple-dropdown-text">@interactName.UserAccount.FirstName @interactName.UserAccount.LastName</p>
                                                            <!-- /SIMPLE DROPDOWN TEXT -->
                                                        }
                                                    }
                                                    @* <!-- SIMPLE DROPDOWN TEXT -->
                                            <p class="simple-dropdown-text"><span class="bold">and 6 more...</span></p>
                                            <!-- /SIMPLE DROPDOWN TEXT --> *@
                                                </div>
                                                <!-- /SIMPLE DROPDOWN -->
                                            </div>
                                            <!-- /REACTION ITEM -->
                                        }
                                    </div>
                                    <!-- /META LINE LIST -->
                                    <!-- META LINE TEXT -->
                                    <p class="meta-line-text">
                                        @item.InteractWithPosts?.Where(i =>
                                    i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create).Count()
                                    </p>
                                    <!-- /META LINE TEXT -->
                                </div>
                                <!-- /META LINE -->
                            </div>
                            <!-- /CONTENT ACTION -->
                            <!-- CONTENT ACTION -->
                            <div class="content-action">
                                <!-- META LINE -->
                                <div class="meta-line">
                                    <!-- META LINE LINK -->
                                    <a href="~/Post?postId=@item.Id">
                                        <p class="meta-line-link">@item.Comments?.Where(w => w.IsDeleted == false).Count() bình luận</p>
                                    </a>
                                    <!-- /META LINE LINK -->
                                </div>
                                <!-- /META LINE -->
                                <!-- META LINE -->
                                <div class="meta-line">
                                    <!-- META LINE TEXT -->
                                    <p class="meta-line-text">@item.WishListPosts?.Where(w => w.IsDeleted == false).Count() lưu</p>
                                    <!-- /META LINE TEXT -->
                                </div>
                                <!-- /META LINE -->
                            </div>
                            <!-- /CONTENT ACTION -->
                        </div>
                        <!-- /CONTENT ACTIONS -->
                    </div>
                    <!-- /WIDGET BOX STATUS CONTENT -->
                </div>
                <!-- /WIDGET BOX STATUS -->
                <!-- POST OPTIONS -->
                <div class="post-options">
                    <!-- POST OPTION WRAP -->
                    <div class="post-option-wrap">
                        @{
                            var interactedPostbyUser = item.InteractWithPosts?.FirstOrDefault(i =>
                            i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create
                            && i.UserAccount.UserName == User.Identity.Name);
                            if (interactedPostbyUser != null)
                            {
                                if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Like)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Like</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                                else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Dislike)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Dislike</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                                else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Sad)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Sad</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                                else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Funny)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Funny</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                                else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Angry)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Angry</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                                else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Love)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Love</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                                else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Happy)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Happy</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                                else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Wow)
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Wow</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                            }
                            else
                            {
                                <!-- POST OPTION -->
                                <div class="post-option reaction-options-dropdown-trigger">
                                    <!-- POST OPTION ICON -->
                                    <svg class="post-option-icon icon-thumbs-up">
                                        <use xlink:href="#svg-thumbs-up"></use>
                                    </svg>
                                    <!-- /POST OPTION ICON -->
                                    <!-- POST OPTION TEXT -->
                                    <p class="post-option-text">Tương tác !</p>
                                    <!-- /POST OPTION TEXT -->
                                </div>
                                <!-- /POST OPTION -->
                            }
                        }
                        <!-- REACTION OPTIONS -->
                        <div class="reaction-options reaction-options-dropdown" style="position: absolute; z-index: 9999; bottom: 54px; left: -16px; opacity: 0; visibility: hidden; transform: translate(0px, 20px); transition: transform 0.3s ease-in-out 0s, opacity 0.3s ease-in-out 0s, visibility 0.3s ease-in-out 0s;">
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Like')" class="reaction-option text-tooltip-tft" data-title="Like" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -22px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Like</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Love')" class="reaction-option text-tooltip-tft" data-title="Love" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -23.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Love</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Dislike')" class="reaction-option text-tooltip-tft" data-title="Dislike" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -28px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Dislike</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Happy')" class="reaction-option text-tooltip-tft" data-title="Happy" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -27.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Happy</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Funny')" class="reaction-option text-tooltip-tft" data-title="Funny" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -27px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Funny</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Wow')" class="reaction-option text-tooltip-tft" data-title="Wow" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -24px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Wow</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Angry')" class="reaction-option text-tooltip-tft" data-title="Angry" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -26.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Angry</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                            <!-- REACTION OPTION -->
                            <div onclick="interactWithPost('@item.Id.ToString()', 'Sad')" class="reaction-option text-tooltip-tft" data-title="Sad" style="position: relative;">
                                <!-- REACTION OPTION IMAGE -->
                                <img class="reaction-option-image" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                <!-- /REACTION OPTION IMAGE -->
                                <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -21.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Sad</p></div>
                            </div>
                            <!-- /REACTION OPTION -->
                        </div>
                        <!-- /REACTION OPTIONS -->
                    </div>
                    <!-- /POST OPTION WRAP -->
                    <!-- POST OPTION -->
                    <a href="~/Post?postId=@item.Id">
                        <div class="post-option">
                            <!-- POST OPTION ICON -->
                            <svg class="post-option-icon icon-comment">
                                <use xlink:href="#svg-comment"></use>
                            </svg>
                            <!-- /POST OPTION ICON -->
                            <!-- POST OPTION TEXT -->
                            <p class="post-option-text">Xem chi tiết</p>
                            <!-- /POST OPTION TEXT -->
                        </div>
                    </a>
                    <!-- /POST OPTION -->
                    @{
                        if (item
                        .WishListPosts?
                        .FirstOrDefault(w => w.UserAccount.UserName == User.Identity.Name
                        && w.IsDeleted == false) != null)
                        {
                            <!-- POST OPTION -->
                            <div class="post-option" onclick="savePost('@item.Id', 'true')">
                                <!-- POST OPTION ICON -->
                                <svg class="post-option-icon icon-share">
                                    <use xlink:href="#svg-share"></use>
                                </svg>
                                <!-- /POST OPTION ICON -->
                                <!-- POST OPTION TEXT -->
                                <p class="post-option-text">Bỏ lưu</p>
                                <!-- /POST OPTION TEXT -->
                            </div>
                            <!-- /POST OPTION -->
                        }
                        else
                        {
                            <!-- POST OPTION -->
                            <div class="post-option" onclick="savePost('@item.Id', 'false')">
                                <!-- POST OPTION ICON -->
                                <svg class="post-option-icon icon-share">
                                    <use xlink:href="#svg-share"></use>
                                </svg>
                                <!-- /POST OPTION ICON -->
                                <!-- POST OPTION TEXT -->
                                <p class="post-option-text">Lưu</p>
                                <!-- /POST OPTION TEXT -->
                            </div>
                            <!-- /POST OPTION -->
                        }
                    }
                </div>
                <!-- /POST OPTIONS -->
            </div>
            <!-- /WIDGET BOX -->
        }
    </div>

</div>


