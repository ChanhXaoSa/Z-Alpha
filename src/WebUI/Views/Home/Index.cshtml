@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using Microsoft.AspNetCore.Identity;
@using ZAlpha.Domain.Identity;
@using ZAlpha.Application.Common.Interfaces;
@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@inject IIdentityService _identityServices;
@using ZAlpha.Application.Common.Models;
@using ZAlpha.Application.Tag.Queries;
@using ZAlpha.Application.Post.Queries.GetAllPost;
@using ZAlpha.Application.Utils.FormatDate;
@* @model ZAlpha.Application.Common.Models.PaginatedList<PostModel> *@
@using Microsoft.AspNetCore.Mvc;
@{
    PaginatedList<ZAlpha.Application.Tag.Queries.GetTag.TagModel> tags = ViewBag.tags;
    List<ZAlpha.Domain.Enums.EmotionalStatus> emotionalStatusList = ViewBag.emotionalStatusList;
    var userLogined = await _identityServices.GetUserByNameAsync(User.Identity.Name);
    ZAlpha.Application.Common.Models.PaginatedList<PostModel> Result = ViewBag.result;

    int Index = ViewBag.Index;
}
<link rel="stylesheet" href="~/assets/css/Home.css" />

<!-- CONTENT GRID -->
<div class="content-grid">
    <!-- SECTION BANNER -->
    <div class="section-banner">
        <!-- SECTION BANNER ICON -->
        <img class="section-banner-icon" src="~/assets/images/banner/newsfeed-icon.png" alt="newsfeed-icon">
        <!-- /SECTION BANNER ICON -->
        <!-- SECTION BANNER TITLE -->
        <p class="section-banner-title">Bản tin hằng ngày</p>
        <!-- /SECTION BANNER TITLE -->
        <!-- SECTION BANNER TEXT -->
        <p class="section-banner-text">Cùng xem những bài viết mới của chuyên gia và người dùng khác nào!</p>
        <!-- /SECTION BANNER TEXT -->
    </div>
    <!-- /SECTION BANNER -->
    <!-- GRID -->
    <div class="grid grid-3-6-3 mobile-prefer-content">
        <!-- GRID COLUMN -->
        <div class="grid-column">
            <!-- WIDGET BOX -->
            <div class="widget-box">
                
                <!-- WIDGET BOX TITLE -->
                <p class="widget-box-title">Thành viên</p>
                <!-- /WIDGET BOX TITLE -->
                <!-- WIDGET BOX CONTENT -->
                <div class="widget-box-content">
                    <!-- FILTERS -->
                    <div class="filters">
                        @if(Index == 2)
                        {
                            <!-- FILTER -->
                            <p class="filter" onclick="newUser(1)">Nổi bật</p>
                            <!-- /FILTER -->
                            <!-- FILTER -->
                            <p class="filter active">Người dùng mới</p>
                            <!-- /FILTER -->
                            <!-- FILTER -->
                            <p class="filter" onclick="newUser(3)">Chuyên gia mới</p>
                            <!-- /FILTER -->
                            <!-- FILTER -->
                            @* <p class="filter">Active</p> *@
                            <!-- /FILTER -->
                        }
                        else
                        {
                            if (Index == 3)
                            {
                                <!-- FILTER -->
                                <p class="filter" onclick="newUser(1)">Nổi bật</p>
                                <!-- /FILTER -->
                                <!-- FILTER -->
                                <p class="filter" onclick="newUser(2)">Người dùng mới</p>
                                <!-- /FILTER -->
                                <!-- FILTER -->
                                <p class="filter active">Chuyên gia mới</p>
                                <!-- /FILTER -->
                                <!-- FILTER -->
                                @* <p class="filter">Active</p> *@
                                <!-- /FILTER -->
                            }
                            else
                            {
                                <!-- FILTER -->
                                <p class="filter active">Nổi bật</p>
                                <!-- /FILTER -->
                                <!-- FILTER -->
                                <p class="filter" onclick="newUser(2)">Người dùng mới</p>
                                <!-- /FILTER -->
                                <!-- FILTER -->
                                <p class="filter" onclick="newUser(3)">Chuyên gia mới</p>
                                <!-- /FILTER -->
                                <!-- FILTER -->
                                @* <p class="filter">Active</p> *@
                                <!-- /FILTER -->
                            }
                        }
                    </div>
                    <!-- /FILTERS -->
                    <!-- USER STATUS LIST -->
                    <div class="user-status-list">
                        <!-- USER STATUS -->
                        @{
                            IEnumerable<UserAccount> userPopular = ViewBag.PopularUsers;
                            foreach (var popUser in userPopular)
                            {
                                <div class="user-status request-small">
                                    <!-- USER STATUS AVATAR -->
                                    <a class="user-status-avatar">
                                        <!-- USER AVATAR -->
                                        <div class="user-avatar small no-outline">
                                            <!-- USER AVATAR CONTENT -->
                                            <div class="user-avatar-content">
                                                <!-- HEXAGON -->
                                                @if (popUser.Avatar?.Length > 0)
                                                {
                                                    <div class="hexagon-image-30-32" data-src="@popUser.AvatarUrl"></div>
                                                } else
                                                {
                                                    <div class="hexagon-image-30-32" data-src="https://cdn1.iconfinder.com/data/icons/user-pictures/100/unknown-512.png"></div>
                                                }
                                                <!-- /HEXAGON -->
                                            </div>
                                            <!-- /USER AVATAR CONTENT -->
                                            <!-- USER AVATAR PROGRESS -->
                                            <div class="user-avatar-progress">
                                                <!-- HEXAGON -->
                                                <div class="hexagon-progress-40-44"></div>
                                                <!-- /HEXAGON -->
                                            </div>
                                            <!-- /USER AVATAR PROGRESS -->
                                            <!-- USER AVATAR PROGRESS BORDER -->
                                            <div class="user-avatar-progress-border">
                                                <!-- HEXAGON -->
                                                <div class="hexagon-border-40-44"></div>
                                                <!-- /HEXAGON -->
                                            </div>
                                            <!-- /USER AVATAR PROGRESS BORDER -->
                                           
                                        </div>
                                        <!-- /USER AVATAR -->
                                    </a>
                                    <!-- /USER STATUS AVATAR -->
                                    <!-- USER STATUS TITLE -->
                                    @{
                                        var linkPopUser = "Route/InfomationDetail?userId=" + popUser.Id;
                                    }

                                    <p class="user-status-title"><a class="bold" href="@linkPopUser">@popUser.FirstName @popUser.LastName</a></p>
                                    <!-- /USER STATUS TITLE -->
                                    <!-- USER STATUS TEXT -->
                                    <p class="user-status-text small">@popUser.InteractWithPosts?.Where(p => p.InteractPostStatus
                                             == ZAlpha.Domain.Enums.InteractPostStatus.Create).Count() bài viết, @popUser.InteractWithComments?.Where(i => i.InteractCommentStatus
                                == ZAlpha.Domain.Enums.InteractCommentStatus.Create).Count() bình luận
                                    </p>
                                    @*<p class="user-status-text small"></p>*@
                                    <!-- /USER STATUS TEXT -->
                                   
                                </div>
                            }
                        }
                        <!-- /USER STATUS -->
                    </div>
                    <!-- /USER STATUS LIST -->
                </div>
                <!-- WIDGET BOX CONTENT -->
            </div>
            <!-- /WIDGET BOX -->

        </div>
        <!-- /GRID COLUMN -->
        <!-- GRID COLUMN -->
        <div class="grid-column">
            <!-- QUICK POST -->
            <div class="quick-post">
                <div class="quick-post-header">
                    <div class="option-items">
                        <!-- OPTION ITEM -->
                        <div class="option-item active">
                            <svg class="option-item-icon icon-status">
                                <use xlink:href="#svg-status"></use>
                            </svg>

                            <p class="option-item-title">Bài viết mới</p>
                        </div>
                        <!-- /OPTION ITEM -->
                        @* <!-- OPTION ITEM -->
                        <div class="option-item">
                        <svg class="option-item-icon icon-blog-posts">
                        <use xlink:href="#svg-blog-posts"></use>
                        </svg>

                        <p class="option-item-title">Blog Post</p>
                        </div>
                        <!-- /OPTION ITEM -->

                        <!-- OPTION ITEM -->
                        <div class="option-item">
                        <svg class="option-item-icon icon-poll">
                        <use xlink:href="#svg-poll"></use>
                        </svg>

                        <p class="option-item-title">Poll</p>
                        </div>
                        <!-- /OPTION ITEM --> *@
                    </div>
                    <!-- /OPTION ITEMS -->
                </div>
                <!-- /QUICK POST HEADER -->
                <!-- QUICK POST BODY -->
                <div class="quick-post-body">
                    <!-- FORM -->
                    <form class="form">
                        <!-- FORM ROW -->
                        <div class="form-row">
                            <!-- FORM ITEM -->
                            <div class="form-item">
                                <!-- FORM TEXTAREA -->
                                <div class="form-textarea">
                                    <textarea id="postbody" placeholder="Chào @userLogined.FirstName @userLogined.LastName! Chia sẻ vấn đề với mọi người nào ..."></textarea>
                                    <!-- FORM TEXTAREA LIMIT TEXT -->
                                    @* <p class="form-textarea-limit-text">998/1000</p> *@
                                    <!-- /FORM TEXTAREA LIMIT TEXT -->
                                </div>
                                <!-- /FORM TEXTAREA -->
                            </div>
                            <!-- /FORM ITEM -->
                        </div>
                        <!-- /FORM ROW -->





                        <!-- CHỖ HIỆN TAG LIST-------------------------------------------------------------------------------------------->


                        <div class="form-row">
                            <div class=""></div>
                            <div style="margin:1rem 0 0.3rem 0;">
                                <span class="user-status-text medium">Hãy đánh giá tình trạng tâm lí hiện tại của bản thân</span>
                            </div>
                            <div>
                                <select class="comboBoxNewPost" id="emostatus">
                                    <option class="user-status-text medium" value="emotionalStatusList[0]">Tình trạng của bạn:</option>
                                    @{
                                        emotionalStatusList.Remove(emotionalStatusList[0]);
                                    };
                                    @foreach (var item in emotionalStatusList)
                                    {
                                        <option value="@item">@item.ToString()</option>
                                    }
                                </select>
                            </div>
                            <div style="margin:1rem 0 0.3rem 0;">
                                <span class="user-status-text medium">Chọn thẻ:</span>
                            </div>
                            <div class="group-tag-post" style="overflow-y: scroll; height: 250px; font-size:1.1rem">
                                @for (int i = 0; i < tags.Items.Count; i++)
                                {
                                    <div class="customCheckBoxHolder">
                                        <input type="checkbox" id="checkboxtag_@i" class="customCheckBoxInput" value="@tags.Items.ToArray()[i].Id">
                                        <label for="checkboxtag_@i" class="customCheckBoxWrapper">
                                            <div class="customCheckBox">
                                                <div class="inner">@tags.Items.ToArray()[i].TagName</div>
                                            </div>
                                        </label>
                                    </div>
                                    @* <div class="auto-group-v2tf-14H" style="display: flex; align-items: center;">
                                <input class="auto-group-czch-9RP" id="checkboxtag_@i" type="checkbox" value="@tags.Items.ToArray()[i].Id" />
                                <span style="margin-left: 10px;">@tags.Items.ToArray()[i].TagName</span>
                                </div> *@
                                }
                            </div> 
                            @*  ẩn cái input, xài cái svg camera ở dưới*@
                            <input id="newpostfile" style=" display: none;" type="file" accept="image/jpeg" />
                        </div>
                        <!----------------------------------------------------------------->
                    </form>
                    <!-- /FORM -->
                </div>
                <!-- /QUICK POST BODY -->
                <!-- QUICK POST FOOTER -->
                <div class="quick-post-footer">
                    <!-- QUICK POST FOOTER ACTIONS -->
                    <div class="quick-post-footer-actions" id="quickPostFooter">
                        <!-- QUICK POST FOOTER ACTION -->
                        <div class="quick-post-footer-action text-tooltip-tft-medium" data-title="Thêm ảnh">
                            <!-- QUICK POST FOOTER ACTION ICON -->
                            <svg class="quick-post-footer-action-icon icon-camera">
                                <use xlink:href="#svg-camera"></use>
                            </svg>

                           
                            <!-- /QUICK POST FOOTER ACTION ICON -->
                        </div>
                        <div class="quick-post-footer-action text-tooltip-tft-medium" data-title="Ảnh vừa chọn">
                            @*show cái tên file ảnh*@
                            <p id="selectedFileName"></p>
                        </div>
                        <!-- /QUICK POST FOOTER ACTION -->
                    </div>
                    <!-- /QUICK POST FOOTER ACTIONS -->
                    <!-- QUICK POST FOOTER ACTIONS -->
                    <div class="quick-post-footer-actions">
                        <!-- BUTTON -->
                        <p class="button small void">Huỷ</p>
                        <!-- /BUTTON -->
                        <!-- BUTTON -->
                        <p class="button small secondary" onclick="NewPost(0)">Đăng</p>

                        <p class="button small secondary" onclick="NewPost(1)">Đăng Ảnh Danh</p>
                        <!-- /BUTTON -->
                    </div>
                    <!-- /QUICK POST FOOTER ACTIONS -->
                </div>
                <!-- /QUICK POST FOOTER -->
            </div>
            <!-- /QUICK POST -->
            <!-- SIMPLE TAB ITEMS -->
            <div class="simple-tab-items">
                <!-- FORM -->
                <form class="form">
                    <!-- FORM SELECT -->
                    <div class="form-select">
                        <select id="newsfeed-filter-category" name="newsfeed_filter_category">
                            <option value="0">Bài đăng mới</option>
                            @* <option value="1">Mentions</option>
                            <option value="2">Friends</option>
                            <option value="3">Groups</option>
                            <option value="4">Blog Posts</option> *@
                        </select>
                        <!-- FORM SELECT ICON -->
                        <svg class="form-select-icon icon-small-arrow">
                            <use xlink:href="#svg-small-arrow"></use>
                        </svg>
                        <!-- /FORM SELECT ICON -->
                    </div>
                    <!-- /FORM SELECT -->
                </form>
                <!-- /FORM -->
                <!-- SIMPLE TAB ITEM -->
                <p class="simple-tab-item active">Bài đăng mới</p>
                <!-- /SIMPLE TAB ITEM -->
                @* <!-- SIMPLE TAB ITEM -->
                <p class="simple-tab-item">Mentions</p>
                <!-- /SIMPLE TAB ITEM -->

                <!-- SIMPLE TAB ITEM -->
                <p class="simple-tab-item">Friends</p>
                <!-- /SIMPLE TAB ITEM -->

                <!-- SIMPLE TAB ITEM -->
                <p class="simple-tab-item">Groups</p>
                <!-- /SIMPLE TAB ITEM -->

                <!-- SIMPLE TAB ITEM -->
                <p class="simple-tab-item">Blog Posts</p>
                <!-- /SIMPLE TAB ITEM --> *@
            </div>
            <!-- /SIMPLE TAB ITEMS -->
            <!-------------------------------------------------------------------------------------------------------------------------------------->
            <!---------------Dòng for render----------------->
            <!-------------------------------------------------------------------------------------------------------------------------------------->
            @foreach (var item in Result.Items)
            {
                <!-- WIDGET BOX -->
                <div class="widget-box no-padding">
                    <!-- WIDGET BOX SETTINGS -->
                    <div class="widget-box-settings">
                        <!-- POST SETTINGS WRAP -->
                        <div class="post-settings-wrap">
                            <!-- POST SETTINGS -->
                            <div class="post-settings widget-box-post-settings-dropdown-trigger">
                                <!-- POST SETTINGS ICON -->
                                <svg class="post-settings-icon icon-more-dots">
                                    <use xlink:href="#svg-more-dots"></use>
                                </svg>
                                <!-- /POST SETTINGS ICON -->
                            </div>
                            <!-- /POST SETTINGS -->
                            @if (item.InteractWithPosts.FirstOrDefault(r => r.InteractPostStatus
                           == ZAlpha.Domain.Enums.InteractPostStatus.Create).UserAccount.UserName
                           == User.Identity.Name)
                            {
                                <!-- SIMPLE DROPDOWN -->
                                <div class="simple-dropdown widget-box-post-settings-dropdown">
                                    <p class="simple-dropdown-link">Edit Post</p>
                                    <p class="simple-dropdown-link">Delete Post</p>
                                </div>
                                <!-- /SIMPLE DROPDOWN -->
                            }
                            else
                            {
                                <!-- SIMPLE DROPDOWN -->
                                <div class="simple-dropdown widget-box-post-settings-dropdown">
                                    <p class="simple-dropdown-link">Report Post</p>
                                    <p class="simple-dropdown-link">Report Author</p>
                                </div>
                                <!-- /SIMPLE DROPDOWN -->
                            }
                        </div>
                        <!-- /POST SETTINGS WRAP -->
                    </div>
                    <!-- /WIDGET BOX SETTINGS -->
                    <!-- WIDGET BOX STATUS -->
                    <div class="widget-box-status">
                        <!-- WIDGET BOX STATUS CONTENT -->
                        <div class="widget-box-status-content">
                            <!-- USER STATUS -->
                            <div class="user-status">
                                <!-- USER STATUS AVATAR -->
                                <a class="user-status-avatar">
                                    <!-- USER AVATAR -->
                                    <div class="user-avatar small no-outline">
                                        <!-- USER AVATAR CONTENT -->
                                        <div class="user-avatar-content">


                                            @{
                                                var imgUserPostUrl = item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create).UserAccount.AvatarUrl;
                                            }
                                            @if (imgUserPostUrl != null && item.AnonymousStatus == ZAlpha.Domain.Enums.AnonymousStatus.UnActive)
                                            {
                                                <!-- HEXAGON -->
                                                <div class="hexagon-image-30-32"
                                                     data-src="@imgUserPostUrl"></div>
                                                <!-- /HEXAGON -->
                                            }
                                            else
                                            {
                                                <!-- HEXAGON -->
                                                <div class="hexagon-image-30-32"
                                                     data-src="https://cdn1.iconfinder.com/data/icons/user-pictures/100/unknown-512.png"></div>
                                                <!-- /HEXAGON -->
                                            }
                                        </div>
                                        <!-- /USER AVATAR CONTENT -->
                                        <!-- USER AVATAR PROGRESS -->
                                        <div class="user-avatar-progress">
                                            <!-- HEXAGON -->
                                            <div class="hexagon-progress-40-44"></div>
                                            <!-- /HEXAGON -->
                                        </div>
                                        <!-- /USER AVATAR PROGRESS -->
                                        <!-- USER AVATAR PROGRESS BORDER -->
                                        <div class="user-avatar-progress-border">
                                            <!-- HEXAGON -->
                                            <div class="hexagon-border-40-44"></div>
                                            <!-- /HEXAGON -->
                                        </div>
                                        <!-- /USER AVATAR PROGRESS BORDER -->


                                    </div>
                                    <!-- /USER AVATAR -->
                                </a>
                                <!-- /USER STATUS AVATAR -->
                                <!-- USER STATUS TITLE -->
                                <p class="user-status-title medium">
                                    @{
                                        var linkUser = "Route/InfomationDetail?userId=" + item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create)?.UserAccount.Id;
                                        if (item.AnonymousStatus == ZAlpha.Domain.Enums.AnonymousStatus.Active)
                                        {
                                            linkUser = "#";
                                        }
                                        var emotionalString = item.EmotionalStatus.ToString();
                                    }
                                    @if (item.AnonymousStatus == ZAlpha.Domain.Enums.AnonymousStatus.Active)
                                    {
                                        <a class="bold">
                                            Ẩn danh
                                            @if (emotionalString != null && !emotionalString.Equals("None"))
                                            {
                                                <p class="user-status-text small">cảm thấy @emotionalString</p>
                                            }
                                        </a>
                                    }
                                    else
                                    {
                                        <a class="bold" href="@linkUser">
                                            @item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create)?.UserAccount.FirstName
                                            @item.InteractWithPosts?.FirstOrDefault(o => o.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Create)?.UserAccount.LastName
                                            @if (emotionalString != null && !emotionalString.Equals("None"))
                                            {
                                                <p class="user-status-text small">cảm thấy @emotionalString</p>
                                            }
                                        </a>
                                    }
                                </p>
                                <!-- /USER STATUS TITLE -->
                                <!-- USER STATUS TEXT -->
                                <p class="user-status-text small">@FormatDate.CalTimeBetweenTwoDate(item.Created)</p>
                                <!-- /USER STATUS TEXT -->
                            </div>
                            <!-- /USER STATUS -->
                            <!-- WIDGET BOX STATUS TEXT -->
                            <p class="widget-box-status-text">@item.PostBody</p>
                            <!-- /WIDGET BOX STATUS TEXT -->
                        </div>
                        <!-- /WIDGET BOX STATUS CONTENT -->
                        @if (item.PostImagesUrl?.Length > 0)
                        {
                            <!-- IFRAME WRAP -->
                            <div class="iframe-wrap" style="padding-top:0px;display:flex;align-content: center;justify-content: center;">
                                <img style="max-height:50vh; max-width:100%;" src="@item.PostImagesUrl" />
                                @* <iframe src="https://giphy.com/embed/1LnQIODGufGec" allowFullScreen></iframe> *@
                            </div>
                            <!-- /IFRAME WRAP -->
                        }
                        <!-- WIDGET BOX STATUS CONTENT -->
                        <div class="widget-box-status-content">


                            <!--TAG LIST-->
                            <div class="tag-list">
                                <!-- TAG ITEM -->
                                @foreach (var tag in @item.PostTags)
                                {
                                    <!-- TAG ITEM -->
                                    <a class="tag-item secondary" href="">@tag.Tag.TagName</a>
                                    <!-- /TAG ITEM -->
                                }
                            </div>
                            <!--/TAG LIST-->
                            <!-- CONTENT ACTIONS -->
                            <div class="content-actions">
                                @{
                                    var allReactionToName = item.InteractWithPosts?
                                    .Where(i => i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create)
                                    .OrderBy(i => i.Created)
                                    .ToList();
                                    var top3reactionPost = item.InteractWithPosts?
                                    .Where(i => i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create)
                                    .OrderByDescending(i => i.InteractPostStatus)
                                    .DistinctBy(i => i.InteractPostStatus)
                                    .Take(3)
                                    .ToList();
                                    var top3reactionPostRevert = new List<ZAlpha.Domain.Entities.InteractWithPosts>();
                                    foreach (var post in top3reactionPost)
                                    {
                                        top3reactionPostRevert.Add(post);
                                    }
                                }
                                <!-- CONTENT ACTION -->
                                <div class="content-action">
                                    <!-- META LINE -->
                                    <div class="meta-line">
                                        <!-- META LINE LIST -->
                                        <div class="meta-line-list reaction-item-list">
                                            @foreach (var post in top3reactionPostRevert)
                                            {
                                                <!-- REACTION ITEM -->
                                                <div class="reaction-item">
                                                    <!-- REACTION IMAGE -->
                                                    @{
                                                        if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Like)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Love)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Dislike)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Happy)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Funny)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Wow)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Angry)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                                        }
                                                        else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Sad)
                                                        {
                                                            <img class="reaction-image reaction-item-dropdown-trigger" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                                        }
                                                    }
                                                    <!-- /REACTION IMAGE -->
                                                    <!-- SIMPLE DROPDOWN -->
                                                    <div class="simple-dropdown padded reaction-item-dropdown">
                                                        <!-- SIMPLE DROPDOWN TEXT -->
                                                        @{
                                                            if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Like)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                                                    <span class="bold">Like</span>
                                                                </p>
                                                            }
                                                            else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Love)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                                                    <span class="bold">Love</span>
                                                                </p>
                                                            }
                                                            else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Dislike)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                                                    <span class="bold">Dislike</span>
                                                                </p>
                                                            }
                                                            else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Happy)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                                                    <span class="bold">Happy</span>
                                                                </p>
                                                            }
                                                            else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Funny)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                                                    <span class="bold">Funny</span>
                                                                </p>
                                                            }
                                                            else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Wow)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                                                    <span class="bold">Wow</span>
                                                                </p>
                                                            }
                                                            else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Angry)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                                                    <span class="bold">Angry</span>
                                                                </p>
                                                            }
                                                            else if (post.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Sad)
                                                            {
                                                                <p class="simple-dropdown-text">
                                                                    <img class="reaction" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                                                    <span class="bold">Sad</span>
                                                                </p>
                                                            }
                                                        }
                                                        <!-- /SIMPLE DROPDOWN TEXT -->
                                                        @foreach (var interactName in allReactionToName)
                                                        {
                                                            if (post.InteractPostStatus == interactName.InteractPostStatus)
                                                            {
                                                                <!-- SIMPLE DROPDOWN TEXT -->
                                                                <p class="simple-dropdown-text">@interactName.UserAccount.FirstName @interactName.UserAccount.LastName</p>
                                                                <!-- /SIMPLE DROPDOWN TEXT -->
                                                            }
                                                        }
                                                        @* <!-- SIMPLE DROPDOWN TEXT -->
                                                <p class="simple-dropdown-text"><span class="bold">and 6 more...</span></p>
                                                <!-- /SIMPLE DROPDOWN TEXT --> *@
                                                    </div>
                                                    <!-- /SIMPLE DROPDOWN -->
                                                </div>
                                                <!-- /REACTION ITEM -->
                                            }
                                        </div>
                                        <!-- /META LINE LIST -->
                                        <!-- META LINE TEXT -->
                                        <p class="meta-line-text">
                                            @item.InteractWithPosts?.Where(i =>
                                                     i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create).Count()
                                        </p>
                                        <!-- /META LINE TEXT -->
                                    </div>
                                    <!-- /META LINE -->
                                </div>
                                <!-- /CONTENT ACTION -->
                                <!-- CONTENT ACTION -->
                                <div class="content-action">
                                    <!-- META LINE -->
                                    <div class="meta-line">
                                        <!-- META LINE LINK -->
                                        <a href="~/Post?postId=@item.Id">
                                            <p class="meta-line-link">@item.Comments?.Where(w => w.IsDeleted == false).Count() bình luận</p>
                                        </a>
                                        <!-- /META LINE LINK -->
                                    </div>
                                    <!-- /META LINE -->
                                    <!-- META LINE -->
                                    <div class="meta-line">
                                        <!-- META LINE TEXT -->
                                        <p class="meta-line-text">@item.WishListPosts?.Where(w => w.IsDeleted == false).Count() lưu</p>
                                        <!-- /META LINE TEXT -->
                                    </div>
                                    <!-- /META LINE -->
                                </div>
                                <!-- /CONTENT ACTION -->
                            </div>
                            <!-- /CONTENT ACTIONS -->
                        </div>
                        <!-- /WIDGET BOX STATUS CONTENT -->
                    </div>
                    <!-- /WIDGET BOX STATUS -->
                    <!-- POST OPTIONS -->
                    <div class="post-options">
                        <!-- POST OPTION WRAP -->
                        <div class="post-option-wrap">
                            @{
                                var interactedPostbyUser = item.InteractWithPosts?.FirstOrDefault(i =>
                                i.InteractPostStatus != ZAlpha.Domain.Enums.InteractPostStatus.Create
                                && i.UserAccount.UserName == User.Identity.Name);
                                if (interactedPostbyUser != null)
                                {
                                    if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Like)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Like</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                    else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Dislike)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Dislike</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                    else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Sad)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Sad</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                    else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Funny)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Funny</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                    else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Angry)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Angry</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                    else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Love)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Love</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                    else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Happy)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Happy</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                    else if (interactedPostbyUser.InteractPostStatus == ZAlpha.Domain.Enums.InteractPostStatus.Wow)
                                    {
                                        <!-- POST OPTION -->
                                        <div class="post-option reaction-options-dropdown-trigger">
                                            <!-- POST OPTION ICON -->
                                            <img class="post-option-icon icon-thumbs-up" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                            <!-- /POST OPTION ICON -->
                                            <!-- POST OPTION TEXT -->
                                            <p class="post-option-text">Wow</p>
                                            <!-- /POST OPTION TEXT -->
                                        </div>
                                        <!-- /POST OPTION -->
                                    }
                                }
                                else
                                {
                                    <!-- POST OPTION -->
                                    <div class="post-option reaction-options-dropdown-trigger">
                                        <!-- POST OPTION ICON -->
                                        <svg class="post-option-icon icon-thumbs-up">
                                            <use xlink:href="#svg-thumbs-up"></use>
                                        </svg>
                                        <!-- /POST OPTION ICON -->
                                        <!-- POST OPTION TEXT -->
                                        <p class="post-option-text">Tương tác !</p>
                                        <!-- /POST OPTION TEXT -->
                                    </div>
                                    <!-- /POST OPTION -->
                                }
                            }
                            <!-- REACTION OPTIONS -->
                            <div class="reaction-options reaction-options-dropdown" style="position: absolute; z-index: 9999; bottom: 54px; left: -16px; opacity: 0; visibility: hidden; transform: translate(0px, 20px); transition: transform 0.3s ease-in-out 0s, opacity 0.3s ease-in-out 0s, visibility 0.3s ease-in-out 0s;">
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Like')" class="reaction-option text-tooltip-tft" data-title="Like" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/like.png" alt="reaction-like">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -22px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Like</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Love')" class="reaction-option text-tooltip-tft" data-title="Love" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/love.png" alt="reaction-love">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -23.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Love</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Dislike')" class="reaction-option text-tooltip-tft" data-title="Dislike" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/dislike.png" alt="reaction-dislike">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -28px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Dislike</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Happy')" class="reaction-option text-tooltip-tft" data-title="Happy" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/happy.png" alt="reaction-happy">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -27.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Happy</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Funny')" class="reaction-option text-tooltip-tft" data-title="Funny" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/funny.png" alt="reaction-funny">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -27px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Funny</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Wow')" class="reaction-option text-tooltip-tft" data-title="Wow" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/wow.png" alt="reaction-wow">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -24px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Wow</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Angry')" class="reaction-option text-tooltip-tft" data-title="Angry" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/angry.png" alt="reaction-angry">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -26.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Angry</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                                <!-- REACTION OPTION -->
                                <div onclick="interactWithPost('@item.Id.ToString()', 'Sad')" class="reaction-option text-tooltip-tft" data-title="Sad" style="position: relative;">
                                    <!-- REACTION OPTION IMAGE -->
                                    <img class="reaction-option-image" src="~/assets/images/reaction/sad.png" alt="reaction-sad">
                                    <!-- /REACTION OPTION IMAGE -->
                                    <div class="xm-tooltip" style="white-space: nowrap; position: absolute; z-index: 99999; top: -28px; left: 50%; margin-left: -21.5px; opacity: 0; visibility: hidden; transform: translate(0px, 10px); transition: all 0.3s ease-in-out 0s;"><p class="xm-tooltip-text">Sad</p></div>
                                </div>
                                <!-- /REACTION OPTION -->
                            </div>
                            <!-- /REACTION OPTIONS -->
                        </div>
                        <!-- /POST OPTION WRAP -->
                        <!-- POST OPTION -->
                        <a href="~/Post?postId=@item.Id">
                            <div class="post-option">
                                <!-- POST OPTION ICON -->
                                <svg class="post-option-icon icon-comment">
                                    <use xlink:href="#svg-comment"></use>
                                </svg>
                                <!-- /POST OPTION ICON -->
                                <!-- POST OPTION TEXT -->
                                <p class="post-option-text">Xem chi tiết</p>
                                <!-- /POST OPTION TEXT -->
                            </div>
                        </a>
                        <!-- /POST OPTION -->
                        @{
                            if (item
                            .WishListPosts?
                            .FirstOrDefault(w => w.UserAccount.UserName == User.Identity.Name
                            && w.IsDeleted == false) != null)
                            {
                                <!-- POST OPTION -->
                                <div class="post-option" onclick="savePost('@item.Id', 'true')">
                                    <!-- POST OPTION ICON -->
                                    <svg class=" post-option-icon icon-pinned" >
                                        <use xlink:href="#svg-pinned"></use>
                                    </svg>
                                    <!-- /POST OPTION ICON -->
                                    <!-- POST OPTION TEXT -->
                                    <p class="post-option-text"> Bỏ lưu</p>
                                    <!-- /POST OPTION TEXT -->
                                </div>
                                <!-- /POST OPTION -->
                            }
                            else
                            {
                                <!-- POST OPTION -->
                                <div class="post-option" onclick="savePost('@item.Id', 'false')">
                                    <!-- POST OPTION ICON -->
                                    <svg class=" post-option-icon icon-pinned">
                                        <use xlink:href="#svg-pinned"></use>
                                    </svg>
                                  
                                    <!-- /POST OPTION ICON -->
                                    <!-- POST OPTION TEXT -->
                                    <p class="post-option-text">Lưu</p>
                                    <!-- /POST OPTION TEXT -->
                                </div>
                                <!-- /POST OPTION -->
                            }
                        }
                    </div>
                    <!-- /POST OPTIONS -->
                </div>
                <!-- /WIDGET BOX -->
            }
        </div>
        <!-- /GRID -->
        <!-- GRID COLUMN -->
        <div class="grid-column">
            <div class="stats-box-slider">
                <!-- STATS BOX SLIDER CONTROLS -->
                <div class="stats-box-slider-controls">
                    <!-- STATS BOX SLIDER CONTROLS TITLE -->
                    <p class="stats-box-slider-controls-title">Thống kê Zalpha</p>
                    <!-- /STATS BOX SLIDER CONTROLS TITLE -->
                    <!-- SLIDER CONTROLS -->
                    <div id="stats-box-slider-controls" class="slider-controls" aria-label="Carousel Navigation" tabindex="0">
                        <!-- SLIDER CONTROL -->
                        <div class="slider-control negative left" aria-controls="stats-box-slider-items" tabindex="-1" data-controls="prev">
                            <!-- SLIDER CONTROL ICON -->
                            <svg class="slider-control-icon icon-small-arrow">
                                <use xlink:href="#svg-small-arrow"></use>
                            </svg>
                            <!-- /SLIDER CONTROL ICON -->
                        </div>
                        <!-- /SLIDER CONTROL -->
                        <!-- SLIDER CONTROL -->
                        <div class="slider-control negative right" aria-controls="stats-box-slider-items" tabindex="-1" data-controls="next">
                            <!-- SLIDER CONTROL ICON -->
                            <svg class="slider-control-icon icon-small-arrow">
                                <use xlink:href="#svg-small-arrow"></use>
                            </svg>
                            <!-- /SLIDER CONTROL ICON -->
                        </div>
                        <!-- /SLIDER CONTROL -->
                    </div>
                    <!-- /SLIDER CONTROLS -->
                </div>
                <!-- /STATS BOX SLIDER CONTROLS -->

                <!-- STATS BOX SLIDER ITEMS -->
                <div class="tns-outer" id="stats-box-slider-items-ow">
                    <div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">5</span>  of 4</div><div class="tns-inner" id="stats-box-slider-items-iw">
                        <div id="stats-box-slider-items" class="stats-box-slider-items tns-slider tns-gallery tns-subpixel tns-calc tns-horizontal">
                            <!-- STATS BOX -->
                            <div class="stats-box stat-profile-views tns-item tns-normal" id="stats-box-slider-items-item0" aria-hidden="true" tabindex="-1" style="">
                                <!-- STATS BOX VALUE WRAP -->
                                <div class="stats-box-value-wrap">
                                    <!-- STATS BOX VALUE -->
                                    <p class="stats-box-value">87.365</p>
                                    <!-- /STATS BOX VALUE -->
                                    <!-- STATS BOX DIFF -->
                                    <div class="stats-box-diff">
                                        <!-- STATS BOX DIFF ICON -->
                                        <div class="stats-box-diff-icon positive">
                                            <!-- ICON PLUS SMALL -->
                                            <svg class="icon-plus-small">
                                                <use xlink:href="#svg-plus-small"></use>
                                            </svg>
                                            <!-- /ICON PLUS SMALL -->
                                        </div>
                                        <!-- /STATS BOX DIFF ICON -->
                                        <!-- STATS BOX DIFF VALUE -->
                                        <p class="stats-box-diff-value">3.2%</p>
                                        <!-- /STATS BOX DIFF VALUE -->
                                    </div>
                                    <!-- /STATS BOX DIFF -->
                                </div>
                                <!-- /STATS BOX VALUE WRAP -->
                                <!-- STATS BOX TITLE -->
                                <p class="stats-box-title">Profile Views</p>
                                <!-- /STATS BOX TITLE -->
                                <!-- STATS BOX TEXT -->
                                <p class="stats-box-text">In the last month</p>
                                <!-- /STATS BOX TEXT -->
                            </div>
                            <!-- /STATS BOX -->
                            <!-- STATS BOX -->
                            <div class="stats-box stat-posts-created tns-item tns-normal" id="stats-box-slider-items-item1" aria-hidden="true" tabindex="-1" style="">
                                <!-- STATS BOX VALUE WRAP -->
                                <div class="stats-box-value-wrap">
                                    <!-- STATS BOX VALUE -->
                                    <p class="stats-box-value">@ViewBag.TotalPosts</p>
                                    <!-- /STATS BOX VALUE -->
                                    <!-- STATS BOX DIFF -->
                                    <div class="stats-box-diff">
                                        <!-- STATS BOX DIFF ICON -->
                                        <div class="stats-box-diff-icon positive">
                                            <!-- ICON PLUS SMALL -->
                                            <svg class="icon-plus-small">
                                                <use xlink:href="#svg-plus-small"></use>
                                            </svg>
                                            <!-- /ICON PLUS SMALL -->
                                        </div>
                                        <!-- /STATS BOX DIFF ICON -->
                                        <!-- STATS BOX DIFF VALUE -->
                                        <p class="stats-box-diff-value">0.4%</p>
                                        <!-- /STATS BOX DIFF VALUE -->
                                    </div>
                                    <!-- /STATS BOX DIFF -->
                                </div>
                                <!-- /STATS BOX VALUE WRAP -->
                                <!-- STATS BOX TITLE -->
                                <p class="stats-box-title">Posts Created</p>
                                <!-- /STATS BOX TITLE -->
                                <!-- STATS BOX TEXT -->
                                <p class="stats-box-text">In the last month</p>
                                <!-- /STATS BOX TEXT -->
                            </div>
                            <!-- /STATS BOX -->
                            <!-- STATS BOX -->
                            <div class="stats-box stat-reactions-received tns-item tns-normal" id="stats-box-slider-items-item2" aria-hidden="true" tabindex="-1" style="">
                                <!-- STATS BOX VALUE WRAP -->
                                <div class="stats-box-value-wrap">
                                    <!-- STATS BOX VALUE -->
                                    <p class="stats-box-value">2560</p>
                                    <!-- /STATS BOX VALUE -->
                                    <!-- STATS BOX DIFF -->
                                    <div class="stats-box-diff">
                                        <!-- STATS BOX DIFF ICON -->
                                        <div class="stats-box-diff-icon negative">
                                            <!-- ICON MINUS SMALL -->
                                            <svg class="icon-minus-small">
                                                <use xlink:href="#svg-minus-small"></use>
                                            </svg>
                                            <!-- /ICON MINUS SMALL -->
                                        </div>
                                        <!-- /STATS BOX DIFF ICON -->
                                        <!-- STATS BOX DIFF VALUE -->
                                        <p class="stats-box-diff-value">1.8%</p>
                                        <!-- /STATS BOX DIFF VALUE -->
                                    </div>
                                    <!-- /STATS BOX DIFF -->
                                </div>
                                <!-- /STATS BOX VALUE WRAP -->
                                <!-- STATS BOX TITLE -->
                                <p class="stats-box-title">Reactions Received</p>
                                <!-- /STATS BOX TITLE -->
                                <!-- STATS BOX TEXT -->
                                <p class="stats-box-text">In the last month</p>
                                <!-- /STATS BOX TEXT -->
                            </div>
                            <!-- /STATS BOX -->
                            <!-- STATS BOX -->
                            <div class="stats-box stat-comments-received tns-item tns-fadeOut" id="stats-box-slider-items-item3" aria-hidden="true" tabindex="-1" style="left: 0%;">
                                <!-- STATS BOX VALUE WRAP -->
                                <div class="stats-box-value-wrap">
                                    <!-- STATS BOX VALUE -->
                                    <p class="stats-box-value">947</p>
                                    <!-- /STATS BOX VALUE -->
                                    <!-- STATS BOX DIFF -->
                                    <div class="stats-box-diff">
                                        <!-- STATS BOX DIFF ICON -->
                                        <div class="stats-box-diff-icon positive">
                                            <!-- ICON PLUS SMALL -->
                                            <svg class="icon-plus-small">
                                                <use xlink:href="#svg-plus-small"></use>
                                            </svg>
                                            <!-- /ICON PLUS SMALL -->
                                        </div>
                                        <!-- /STATS BOX DIFF ICON -->
                                        <!-- STATS BOX DIFF VALUE -->
                                        <p class="stats-box-diff-value">4.5%</p>
                                        <!-- /STATS BOX DIFF VALUE -->
                                    </div>
                                    <!-- /STATS BOX DIFF -->
                                </div>
                                <!-- /STATS BOX VALUE WRAP -->
                                <!-- STATS BOX TITLE -->
                                <p class="stats-box-title">Comments Received</p>
                                <!-- /STATS BOX TITLE -->
                                <!-- STATS BOX TEXT -->
                                <p class="stats-box-text">In the last month</p>
                                <!-- /STATS BOX TEXT -->
                            </div>
                            <!-- /STATS BOX -->
                            <div class="stats-box stat-profile-views tns-item tns-slide-active tns-fadeIn" style="left: 0%;">
                                <!-- STATS BOX VALUE WRAP -->
                                <div class="stats-box-value-wrap">
                                    <!-- STATS BOX VALUE -->
                                    <p class="stats-box-value">87.365</p>
                                    <!-- /STATS BOX VALUE -->
                                    <!-- STATS BOX DIFF -->
                                    <div class="stats-box-diff">
                                        <!-- STATS BOX DIFF ICON -->
                                        <div class="stats-box-diff-icon positive">
                                            <!-- ICON PLUS SMALL -->
                                            <svg class="icon-plus-small">
                                                <use xlink:href="#svg-plus-small"></use>
                                            </svg>
                                            <!-- /ICON PLUS SMALL -->
                                        </div>
                                        <!-- /STATS BOX DIFF ICON -->
                                        <!-- STATS BOX DIFF VALUE -->
                                        <p class="stats-box-diff-value">3.2%</p>
                                        <!-- /STATS BOX DIFF VALUE -->
                                    </div>
                                    <!-- /STATS BOX DIFF -->
                                </div>
                                <!-- /STATS BOX VALUE WRAP -->
                                <!-- STATS BOX TITLE -->
                                <p class="stats-box-title">Profile Views</p>
                                <!-- /STATS BOX TITLE -->
                                <!-- STATS BOX TEXT -->
                                <p class="stats-box-text">In the last month</p>
                                <!-- /STATS BOX TEXT -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /STATS BOX SLIDER ITEMS -->
            </div>
        </div>
        <!-- /GRID COLUMN -->
    </div>
    <!-- /CONTENT GRID -->
</div>

<script>
    function interactWithPost(postId, reactionType) {
        var reaction = reactionType;
        var statusPick = 0;
        if (reaction === "Like") {
            statusPick = 1;
        } else if (reaction === "Love") {
            statusPick = 2;
        } else if (reaction === "Dislike") {
            statusPick = 3;
        } else if (reaction === "Happy") {
            statusPick = 4;
        } else if (reaction === "Funny") {
            statusPick = 5;
        } else if (reaction === "Wow") {
            statusPick = 6;
        } else if (reaction === "Angry") {
            statusPick = 7;
        } else if (reaction === "Sad") {
            statusPick = 8;
        }
        $.ajax({
            type: "POST",
            url: "@Url.Action("InteractWithPost", "Post")",
            data: { postId: postId, status: statusPick },
            success: function (result) {
                if (result.success) {
                    // alert(result.message);
                    window.location.reload();
                } else {
                    alert(result.message);
                    window.location.href = '/login';
                }
            },
            error: function () {
                alert("Đã xảy ra lỗi khi gửi yêu cầu.");
            }
        });
    }

    function savePost(postId, statusSave) {
        $.ajax({
            type: "POST",
            url: "@Url.Action("WishListPost", "Home")",
            data: { postId: postId, isDeleted: statusSave },
            success: function (result) {
                if (result.success) {
                    //alert(result.message);
                    window.location.reload();
                } else {
                    //alert(result.message);
                    window.location.href = '/login';
                }
            },
            error: function () {
                alert("Đã xảy ra lỗi khi gửi yêu cầu.");
            }
        });
    }
    function NewPost(isAnomymous) {
        var postbody = $("#postbody").val();
        var emostatus = $("#emostatus").find(":selected").val();

        var ids = "";
        var funtionCount = @tags.Items.Count;
        for (var i = 0; i < parseInt(funtionCount, 10); i++) {
            if ($("#checkboxtag_" + i).is(":checked")) {
                ids += $("#checkboxtag_" + i).val() + "_";
            }
        }
        var formData = new FormData();
        formData.append("postBody", postbody);
        formData.append("emostatus", emostatus);
        formData.append("file", $("#newpostfile")[0].files[0]);
        formData.append("checkboxIds", ids);
        formData.append("isAnomymous", isAnomymous);

        $.ajax({
            type: "POST",
            url: "@Url.Action("NewPost", "Home")",
            data: formData,
            contentType: false,
            processData: false,
            success: function (data) {
                setTimeout(function () {
                    window.location.reload();
                }, 1000);
                alert(data.message);
            }
        });
    }



    function newUser(i) {
        $.ajax({
            type: "Get",
            url: "@Url.Action("Index", "Home")",
            data: { index: i },
            success: function (result) {
                if (result.success) {
                    window.location.href = '/Home?reload='+1+'&index='+i;
                }
            },
            error: function () {
                alert("Đã xảy ra lỗi khi gửi yêu cầu.");
            }
        });
    }
</script>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get the input element
        var inputFile = document.getElementById('newpostfile');

        // Get the svg-camera element
        var svgCamera = document.getElementById('svg-camera');

        // Get the div element to display the selected file name
        var selectedFileNameDiv = document.getElementById('selectedFileName');

        // Add click event listener to svg-camera
        svgCamera.addEventListener('click', function () {
            // Trigger the click event on the input
            inputFile.click();
        });

        // Add change event listener to input
        inputFile.addEventListener('change', function () {
            var fileName = inputFile.files[0].name;

            // Limit the length of the file name
            var limitedFileName = fileName.length > 20
                ? fileName.slice(0, 20) + '...'
                : fileName;


            // Display the selected file name
            selectedFileNameDiv.textContent = limitedFileName;
        });
    });
</script>